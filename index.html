<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Xem Video</title>

<style>
body{
    background:#0f0f0f;
    color:#fff;
    font-family:Arial;
    margin:0;
    padding:20px;
}

.container{
    max-width:1100px;
    margin:auto;
}

video{
    width:100%;
    border-radius:12px;
    background:black;
}

.video-title{
    font-size:20px;
    font-weight:bold;
    margin:15px 0 10px;
}

.channel{
    color:#aaa;
    margin-bottom:15px;
}

.actions button{
    background:#222;
    color:white;
    border:none;
    padding:8px 15px;
    border-radius:20px;
    cursor:pointer;
    margin-right:10px;
}

.actions button:hover{
    background:#333;
}

.suggestions{
    margin-top:30px;
}

.suggestion{
    display:flex;
    gap:10px;
    margin-bottom:15px;
    text-decoration:none;
    color:white;
}

.suggestion video{
    width:150px;
    height:90px;
    object-fit:cover;
    border-radius:8px;
}

.suggestion .info{
    font-size:14px;
}

.views{
    color:#aaa;
    font-size:13px;
}
</style>
</head>

<body>

<div class="container">

<video controls id="player"></video>

<div class="video-title" id="title"></div>
<div class="channel">Ch√≠nh Ch·ªß ‚Ä¢ <span id="views"></span> l∆∞·ª£t xem</div>

<div class="actions">
    <button onclick="like()">üëç <span id="likeCount">0</span></button>
</div>

<div class="suggestions" id="suggestions"></div>

</div>

<script>

const videos = {
    1:{title:"Video 1", src:"video1.mp4"},
    2:{title:"Video 2", src:"video2.mp4"},
    3:{title:"Ch·ªëng ƒê·∫©y - Ph·∫ßn 1", src:"chongday1.mp4"},
    4:{title:"Ch·ªëng ƒê·∫©y - Ph·∫ßn 2", src:"chongday2.mp4"}
};

const params = new URLSearchParams(window.location.search);
let id = params.get("id");

if(!id) id = 1;

loadVideo(id);

function loadVideo(videoId){

    const video = videos[videoId];

    document.getElementById("player").src = video.src;
    document.getElementById("title").innerText = video.title;

    let views = localStorage.getItem("views_"+videoId) || 0;
    views++;
    localStorage.setItem("views_"+videoId, views);

    document.getElementById("views").innerText = views;

    let likes = localStorage.getItem("likes_"+videoId) || 0;
    document.getElementById("likeCount").innerText = likes;

    loadSuggestions(videoId);
}

function like(){
    let current = document.getElementById("likeCount").innerText;
    current++;
    document.getElementById("likeCount").innerText = current;
    localStorage.setItem("likes_"+id, current);
}

function loadSuggestions(currentId){

    const box = document.getElementById("suggestions");
    box.innerHTML = "<h3>Video ƒë·ªÅ xu·∫•t</h3>";

    for(let key in videos){
        if(key != currentId){
            box.innerHTML += `
            <a href="watch.html?id=${key}" class="suggestion">
                <video src="${videos[key].src}"></video>
                <div class="info">
                    <div>${videos[key].title}</div>
                    <div class="views">${localStorage.getItem("views_"+key) || 0} l∆∞·ª£t xem</div>
                </div>
            </a>
            `;
        }
    }
}

</script>

</body>
</html>
